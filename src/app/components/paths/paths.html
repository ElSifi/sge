<div class="container" ng-cloak>
  <sg-path-creator-modal></sg-path-creator-modal>
  <div class="row">
    <div class="col s12">
      <div class="card blue-grey darken-1">
        <div class="card-content white-text">
          <div class="row valign-wrapper">
            <div class="col s3 m2 l2 valign">
              <h3>Paths</h3>
            </div>
            <div class="col s3 m8 l8">
              <a class="btn-flat" ng-click="togglePaths()">
              <i class="large material-icons">swap_vert</i>
              </a>
            </div>
            <div class="col s6 m2 l2 valign right-align">
              <a ng-click="openFocusPathModal()"
                class="btn-floating btn-large waves-effect waves-light green accent-4"
                href="#path-creation-modal"
                modal>
              <i class="material-icons">add</i>
              </a>
            </div>
          </div>
        
          <div ng-hide="pathCtl.prevent.showPaths" ng-repeat="(pathName, pathValue) in pathCtl.paths">
            <div class="row valign-wrapper">
              <div class="input-field valign col s8">
                <input id="path-name" ng-attr-placeholder="{{pathName}}" type="text" ng-model="pathCtl[pathName].newName">
                <!--label for="path-name">Path Name</label-->
              </div>
              <div class="valign col s2">
                <button class="btn waves-effect waves-light" type="button" ng-click="pathCtl.updatePathName(pathName, pathCtl[pathName].newName)" name="action">
                  Update
                  <!--i class="material-icons right">send</i-->
                </button>
              </div>
              <div class="valign col s2">
                <button class="btn-flat waves-effect waves-light" type="submit" name="action" ng-click="pathCtl.deletePath(pathName)">
                <i class="material-icons">delete</i>
                </button>
              </div>
            </div>
            <div class="row" >
              <div class="left-align" style="padding-left:15px;">Operations </div>
              <div class="col s12 l6">
                <div class="row" >
                  <div class="col" ng-repeat="(operation, value) in pathCtl.paths[pathName] | orderBy:'operation'" ng-hide="pathCtl.paths[pathName][operation]">
                    <a ng-class="{'blue': '{{operation}}' == 'get',
                      'orange': '{{operation}}' === 'put',
                      'green': '{{operation}}' === 'post',
                      'red': '{{operation}}' === 'delete', }"
                      class="waves-effect waves-light btn" ng-click="pathCtl.addOperation(pathName, operation)">
                    {{operation | uppercase}}
                    </a>
                  </div>
                </div>
              </div>
            </div>
            <div class="row" >
              <div ng-repeat="(operation, value) in pathCtl.paths[pathName]" ng-show="pathCtl.paths[pathName][operation]" class="valign-wrapper">
                <div class="col s11 valign">
                  <ul class="collapsible blue-grey darken-2" init-collapse data-collapsible="accordion">
                    <li>
                      <div ng-class="{'blue': '{{operation}}' == 'get',
                        'orange': '{{operation}}' === 'put',
                        'green': '{{operation}}' === 'post',
                        'red': '{{operation}}' === 'delete', }"
                        class="collapsible-header "><i class="material-icons">filter_drama</i>{{ operation | uppercase }}   {{ " " + path.currentName}}</div>
                      <div class="collapsible-body ">
                        <div class="section">
                          <!--form ng-submit="pathCtl.updateOperation(pathName, operation, 'summary', pathCtl.operation[operation].summary)"-->
                          <div class="">
                            <div sg-unique-input class="input-field col s12">
                              <input id="input"
                                ng-attr-placeholder="pathCtl.paths[pathName][operation].summary"
                                ng-model="pathCtl.paths[pathName][operation].summary"
                                maxlength="150" type="text"/>
                              <label id="label"  for="label">Summary</label>
                            </div>
                            <!--div class="col s2 valign">
                              <button class="waves-effect waves-light btn" type="submit" name="action">
                              Update
                              </button>
                              </div-->
                            <!--/div-->
                            <!--/form-->
                            <!--form ng-submit="pathCtl.updateOperation(pathName, operation, 'description', pathCtl.operation[operation].description)"-->
                            <!--div class=" valign-wrapper"-->
                            <div sg-unique-input class="input-field col s12">
                              <textarea id="input"
                                ng-attr-placeholder="pathCtl.paths[pathName][operation].description"
                                ng-model="pathCtl.paths[pathName][operation].description"
                                class="materialize-textarea"></textarea>
                              <label id="label" for="label">Description</label>
                            </div>
                            <!--div class="col s2 valign">
                              <button class="waves-effect waves-light btn" type="submit" name="action">
                              Update
                              </button>
                              </div-->
                          </div>
                          <!--/form-->
                        </div>
                        <div class="Section"
                          ng-if="pathCtl.paths[pathName][operation]"
                          >
                          <sg-parameter></sg-parameter>

                        </div>
                        <sg-response></sg-response>
                      </div>
                    </li>
                  </ul>
                </div>
                <div class="col s1 valign" >
                  <button class="btn-flat" type="submit" name="action" ng-click="pathCtl.deleteOperation(pathName, operation)">
                  <i class="material-icons">delete</i>
                  </button>
                </div>
              </div>
              {{path}}
            </div>
          </div>
          {{paths}}
        </div>
      </div>
    </div>
  </div>
  <!-- MODAL FOR PARAM SPECIFICATION -->
  <sg-parameter-editor-modal></sg-parameter-editor-modal>
  <!-- MODAL for RESPONSE UPDATE -->
  <sg-response-editor-modal></sg-response-editor-modal>
</div>
