<div class="section" ng-cloak>
  <sg-path-creator-modal></sg-path-creator-modal>
  <div class="row">
    <div class="col s12 m7" style="margin-left:2.33%;">
      {{pathCtl.paths}}
      <div class="card ">
        <md-toolbar style="background-color:#3F1C3E;">
          <div class="md-toolbar-tools" style="display:flex; justify-content:space-between;">
            <h2>
              <span>Paths</span>
            </h2>
            <div style="padding-top:6%" class="right-align">
              <a ng-click="openFocusPathModal()"
                class="btn-floating btn-large waves-effect waves-light purple accent-4"
                href="#path-creation-modal"
                modal>
              <i class="material-icons">add</i>
              </a>
            </div>
          </div>
        </md-toolbar>
        <div class="card-content">
          <div ng-hide="pathCtl.prevent.showPaths" ng-repeat="(pathName, pathValue) in pathCtl.paths">
            <div class="row valign-wrapper">
              <div class="input-field valign col s8">
                <input id="path-name" ng-attr-placeholder="{{pathName}}" type="text" ng-model="pathCtl[pathName].newName">
              </div>
              <div class="valign col s2">
                <button class="btn waves-effect waves-light" type="button" ng-click="pathCtl.updatePathName(pathName, pathCtl[pathName].newName)" name="action">
                  Update
                </button>
              </div>
              <div class="valign col s2">
                <button class="btn-flat waves-effect waves-light" type="submit" name="action" ng-click="pathCtl.deletePath(pathName)">
                <i class="material-icons">delete</i>
                </button>
              </div>
            </div>
            <div>
              <div style="display:flex; flex-direction:row; justify-content:flex-start;">
                <div>Operations:</div>
                <a ng-repeat="(operation, value) in pathCtl.paths[pathName] | orderBy:'operation'"
                    style="margin-left:2%;"
                     ng-hide="pathCtl.paths[pathName][operation]"
                  ng-class="{'blue': '{{operation}}' == 'get',
                  'orange': '{{operation}}' === 'put',
                  'green': '{{operation}}' === 'post',
                  'red': '{{operation}}' === 'delete', }"
                  class="waves-effect waves-light btn white-text" ng-click="pathCtl.addOperation(pathName, operation)">
                {{operation | uppercase}}
                </a>
              </div>
            </div>
            <div class="row" >
              <ul class="collapsible popout col s12" data-collapsible="accordion" watch>
                  <li class="" ng-repeat="(operation, value) in pathCtl.paths[pathName]" ng-show="pathCtl.paths[pathName][operation]">
                    <div ng-class="{'blue': '{{operation}}' == 'get',
                      'orange': '{{operation}}' === 'put',
                      'green': '{{operation}}' === 'post',
                      'red': '{{operation}}' === 'delete', }"
                      class="collapsible-header white-text"><i class="material-icons">filter_drama</i>{{ operation | uppercase }}   {{ " " + path.currentName}}</div>
                      <div class="collapsible-body">
                        <div class="section">
                          <div class="">
                            <div sg-unique-input class="input-field col s12">
                              <input id="input"
                                ng-attr-placeholder="pathCtl.paths[pathName][operation].summary"
                                ng-model="pathCtl.paths[pathName][operation].summary"
                                maxlength="150" type="text"/>
                              <label id="label"  for="label">Summary</label>
                            </div>
                            <div sg-unique-input class="input-field col s12">
                              <textarea id="input"
                                ng-attr-placeholder="pathCtl.paths[pathName][operation].description"
                                ng-model="pathCtl.paths[pathName][operation].description"
                                class="materialize-textarea"></textarea>
                              <label id="label" for="label">Description</label>
                            </div>
                          </div>
                        </div>
                        <div class="Section" ng-if="pathCtl.paths[pathName][operation]">
                          <sg-parameter sg-this-operation="{{operation}}" sg-context="pathCtl.paths[pathName][operation]"></sg-parameter>
                          <sg-response sg-this-operation="{{operation}}" sg-context="pathCtl.paths[pathName][operation].responses"></sg-response>
                        </div>

                    </div>
                  </li>
                </ul>

              {{path}}
            </div>
          </div>
          {{paths}}
        </div>
      </div>
    </div>
  </div>
  <!-- MODAL FOR PARAM SPECIFICATION -->
  <sg-parameter-editor-modal></sg-parameter-editor-modal>
  <!-- MODAL for RESPONSE UPDATE -->
  <sg-response-editor-modal></sg-response-editor-modal>
</div>
