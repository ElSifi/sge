<div style="display:flex; flex-flow: column nowrap;">
  <div style="display:flex; flex-flow: row nowrap;">
    <md-input-container style="flex-grow:1;">
        <label>Description</label>
        <textarea ng-model="schema.sgSchemaObject.description"
        md-maxlength="150"
        rows="5"
        md-select-on-focus></textarea>
    </md-input-container>
  </div>
  <div style="display:flex; flex-flow: row nowrap;">
    <md-input-container style="flex-grow:1;">
          <label>$ref</label>
          <input name="$ref" type="text" ng-model="schema.sgSchemaObject.$ref">
      </md-input-container>
      <md-input-container style="flex-grow:1;">
          <label>Type</label>
          <input name="type" ng-disabled="schema.sgRestrictTypeToObject"
                  ng-model="schema.sgSchemaObject.type" type="text">
      </md-input-container>
      <md-input-container style="flex-grow:1;">
          <label>Required</label>
          <input name="required" disabled ng-model="schema.sgSchemaObject.required" type="text">
      </md-input-container>
  </div>

  <div >
    <h5>Properties</h5>
  </div>

  <form name="propertyCreator" style="display:flex; ">
      <div style="display:flex; flex-direction:row; align-items:center; flex-grow:2">
          <md-input-container style="display:flex; flex-flow:column nowrap;  flex-grow:2;">
            <label>Property Name</label>
            <input  type="text"
                    name="propertyName"
                    ng-model="schema.newProperty.name"
                    required>

            <div ng-if="propertyCreator.propertyName.$dirty"
                ng-messages="propertyCreator.propertyName.$error"
                role="alert" >
              <div ng-message="required">
                Property name is required.
              </div>
            </div>

          </md-input-container>
          <md-button ng-disabled="propertyCreator.propertyName.$invalid" style="display:flex; justify-content:center; align-items:center;"
                    ng-click="schema.addProperty(schema.newProperty.name);">
              <i class="material-icons">add</i>
          </md-button>
      </div>

  </form>

  <ul  ng-repeat="(property, pValue) in schema.sgSchemaObject.properties"
    class="collapsible "
    init-collapse
    data-collapsible="accordion">
    <li>
      <div class="collapsible-header" style="display:flex; justify-content:space-between; align-items: center;">
        <div>
          {{property}}
        </div>
        <div>
          <md-button style="display:flex; justify-content:center; align-items:center;"
              ng-click="schema.deleteProperty(property)">
              <i class="material-icons">delete</i>
              <md-tooltip>
                  Delete Property
              </md-tooltip>
          </md-button>
        </div>
      </div>
      <div class="collapsible-body" style="display:flex; flex-flow: column nowrap; padding-left:15px; padding-right:15px;">
        <!-- <div class=" valign-wrapper section"> -->
        <div style="display:flex; flex-flow: row nowrap;  align-items: center;">
          <md-input-container style="">
            <label>Description</label>
            <textarea ng-model="pValue.description"
            md-maxlength="150"
            rows="1"
            md-select-on-focus></textarea>
          </md-input-container>
          <md-input-container style="" ng-hide="pValue.type === 'array'">
            <label>$ref</label>
            <input  type="text" name="$ref" ng-model="pValue.$ref">
          </md-input-container>
          <div style="display:flex; flex-flow: row nowrap; justify-content:center;  align-items: center; flex-grow:1;">
            <md-checkbox
              ng-model="schema.required[property]"
              ng-click="schema.toggleRequired(property, schema.required[property])"
              aria-label="Property required">
            Required
          </md-checkbox>
          </div>

        </div>
        <div style="display:flex; flex-flow:row nowrap;">
          <sg-dropdown
              sg-label="Type"
              ng-model="pValue.type" sg-default-option="Choose a Type" sg-choices="schema.types">
          </sg-dropdown>
          <sg-dropdown
              sg-label="Format"
              ng-model="pValue.format" sg-default-option="Property Format" sg-choices="schema.formats">
          </sg-dropdown>
          <md-input-container style="" ng-hide="pValue.type === 'array'">
            <label>enum</label>
            <input  type="text" disabled name="enum" ng-attr-placeholder="{{pValue.enum}}">
          </md-input-container>
        </div>
        <div style="display:flex; flex-flow:row nowrap; align-items: center;" ng-hide="pValue.type === 'array'">
          <md-input-container style="flex-grow: 1;">
            <label>enum</label>
            <input  type="text" name="enum" ng-model="schema[property].enum" placeholder="one item at a time">
          </md-input-container>
          <md-button ng-click="schema.addEnumToProperty(property, schema[property].enum)">
            <i class="material-icons">add</i>
          </md-button>
          <md-button ng-click="schema.removeEnumFromProperty(property, schema[property].enum)">
            <i class="material-icons">delete</i>
          </md-button>
        </div>
        <div ng-show="pValue.type === 'array'">
            <sg-dropdown
                    sg-label="Type"
                    ng-model="pValue.item.type" sg-default-option="Array Items Type" sg-choices="schema.itemsType">
            </sg-dropdown>
        </div>
      </div>
    </li>
  </ul>

</div>
